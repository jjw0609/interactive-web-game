(()=>{"use strict";var t={554:(t,e,i)=>{i.d(e,{RC:()=>u,lq:()=>a});var n=i(718);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function h(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var a=function(){return h((function t(e){r(this,t),this.el=document.querySelector(e),this.movex=0,this.speed=11,this.direction="right",this.attackDamage=1e3}),[{key:"keyMotion",value:function(){n.Eb.keyDown.left?(this.direction="left",this.el.classList.add("run"),this.el.classList.add("flip"),this.movex=this.movex<=0?0:this.movex-this.speed):n.Eb.keyDown.right&&(this.direction="right",this.el.classList.add("run"),this.el.classList.remove("flip"),this.movex=this.movex+this.speed),n.Eb.keyDown.attack&&(n.R1.launch||(this.el.classList.add("attack"),n.R1.arr.push(new c),n.R1.launch=!0)),n.Eb.keyDown.left||n.Eb.keyDown.right||this.el.classList.remove("run"),n.Eb.keyDown.attack||(this.el.classList.remove("attack"),n.R1.launch=!1),this.el.parentNode.style.transform="translateX(".concat(this.movex,"px)")}},{key:"position",value:function(){return{left:this.el.getBoundingClientRect().left,right:this.el.getBoundingClientRect().right,top:n.QM.screenHeight-this.el.getBoundingClientRect().top,bottom:n.QM.screenHeight-this.el.getBoundingClientRect().top-this.el.getBoundingClientRect().height}}},{key:"size",value:function(){return{width:this.el.offsetWidth,height:this.el.offsetHeight}}}])}(),c=function(){return h((function t(){r(this,t),this.parentNode=document.querySelector(".game"),this.el=document.createElement("div"),this.el.className="hero_bullet",this.x=0,this.y=0,this.speed=30,this.distance=0,this.bulletDirection="right",this.init()}),[{key:"init",value:function(){this.bulletDirection="left"===n.ZK.direction?"left":"right",this.x="right"===this.bulletDirection?n.ZK.movex+n.ZK.size().width/2:n.ZK.movex-n.ZK.size().width/2,this.y=n.ZK.position().bottom-n.ZK.size().height/2,this.distance=this.x,this.el.style.transform="translate(".concat(this.x,"px, ").concat(this.y,"px)"),this.parentNode.appendChild(this.el)}},{key:"moveBullet",value:function(){var t="";"left"===this.bulletDirection?(this.distance-=this.speed,t="rotate(180deg)"):this.distance+=this.speed,this.el.style.transform="translate(".concat(this.distance,"px, ").concat(this.y,"px) ").concat(t),this.crashBullet()}},{key:"position",value:function(){return{left:this.el.getBoundingClientRect().left,right:this.el.getBoundingClientRect().right,top:n.QM.screenHeight-this.el.getBoundingClientRect().top,bottom:n.QM.screenHeight-this.el.getBoundingClientRect().top-this.el.getBoundingClientRect().height}}},{key:"crashBullet",value:function(){for(var t=0;t<n.OR.arr.length;t++)if(this.position().left>n.OR.arr[t].position().left&&this.position().right<n.OR.arr[t].position().right)for(var e=0;e<n.R1.arr.length;e++)n.R1.arr[e]===this&&(n.R1.arr.splice(e,1),this.el.remove(),n.OR.arr[t].updateHp());if(this.position().left>n.QM.screenWidth||this.position().right<0)for(var i=0;i<n.R1.arr.length;i++)n.R1.arr[i]===this&&(n.R1.arr.splice(i,1),this.el.remove())}}])}(),u=function(){return h((function t(e,i){r(this,t),this.parentNode=document.querySelector(".game"),this.el=document.createElement("div"),this.el.className="monster_box",this.elChildren=document.createElement("div"),this.elChildren.className="monster",this.hpNode=document.createElement("div"),this.hpNode.className="hp",this.hpValue=i,this.hpTextNode=document.createTextNode(this.hpValue),this.positionX=e,this.init()}),[{key:"init",value:function(){this.hpNode.appendChild(this.hpTextNode),this.el.appendChild(this.hpNode),this.el.appendChild(this.elChildren),this.parentNode.appendChild(this.el),this.el.style.left=this.positionX+"px"}},{key:"position",value:function(){return{left:this.el.getBoundingClientRect().left,right:this.el.getBoundingClientRect().right,top:n.QM.screenHeight-this.el.getBoundingClientRect().top,bottom:n.QM.screenHeight-this.el.getBoundingClientRect().top-this.el.getBoundingClientRect().height}}},{key:"updateHp",value:function(){this.hpValue=Math.max(0,this.hpValue-n.ZK.attackDamage),this.el.children[0].innerText=this.hpValue}}])}()},718:(t,e,i)=>{i.d(e,{Eb:()=>r,OR:()=>s,QM:()=>a,R1:()=>h,ZK:()=>n});var n,o=i(554),r={keyDown:{},keyValue:{37:"left",39:"right",88:"attack"}},s={arr:[]},h={launch:!1,arr:[]},l={gameBox:document.querySelector(".game")},a={screenWidth:window.innerWidth,screenHeight:window.innerHeight},c=function(){n.keyMotion(),u(),h.arr.forEach((function(t,e){t.moveBullet()})),window.requestAnimationFrame(c)},u=function(){var t=Math.min(0,-1*(n.movex-a.screenWidth/3));l.gameBox.style.transform="translateX(".concat(t,"px)")},d=function(){n=new o.lq(".hero"),s.arr[0]=new o.RC(700,7777),s.arr[1]=new o.RC(1500,5555),["./images/ninja_attack.png","./images/ninja_run.png"].forEach((function(t){(new Image).src=t})),window.addEventListener("keydown",(function(t){r.keyDown[r.keyValue[t.which]]=!0})),window.addEventListener("keyup",(function(t){r.keyDown[r.keyValue[t.which]]=!1})),window.addEventListener("resize",(function(t){a.screenWidth=window.innerWidth,a.screenHeight=window.innerHeight})),c()};window.onload=function(){d()}}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);i(554)})();
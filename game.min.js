(()=>{"use strict";var e={554:(e,t,i)=>{i.d(t,{BI:()=>c,lq:()=>u});var n=i(718),s=i(724);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function h(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var c=function(){return h((function e(){a(this,e),this.stageStart()}),[{key:"stageStart",value:function(){this.stageGuide(),this.callMonster()}},{key:"stageGuide",value:function(){var e=this;this.parentNode=document.querySelector(".game_app"),this.textBox=document.createElement("div"),this.textBox.className="stage_box",this.textNode=document.createTextNode("START LEVEL1"),this.textBox.appendChild(this.textNode),this.parentNode.appendChild(this.textBox),setTimeout((function(){return e.textBox.remove()}),1500)}},{key:"callMonster",value:function(){for(var e=0;e<=10;e++)n.OR.arr[e]=10===e?new p(s.rc,n.QM.screenWidth+600*e):new p(s.M2,n.QM.screenWidth+700*e)}}])}(),u=function(){return h((function e(t){a(this,e),this.el=document.querySelector(t),this.movex=0,this.speed=11,this.direction="right",this.attackDamage=1e4,this.hpProgress=0,this.hpValue=1e6,this.defaultHpValue=this.hpValue,this.realDamage=0}),[{key:"keyMotion",value:function(){n.Eb.keyDown.left?(this.direction="left",this.el.classList.add("run"),this.el.classList.add("flip"),this.movex=this.movex<=0?0:this.movex-this.speed):n.Eb.keyDown.right&&(this.direction="right",this.el.classList.add("run"),this.el.classList.remove("flip"),this.movex=this.movex+this.speed),n.Eb.keyDown.attack&&(n.R1.launch||(this.el.classList.add("attack"),n.R1.arr.push(new d),n.R1.launch=!0)),n.Eb.keyDown.left||n.Eb.keyDown.right||this.el.classList.remove("run"),n.Eb.keyDown.attack||(this.el.classList.remove("attack"),n.R1.launch=!1),this.el.parentNode.style.transform="translateX(".concat(this.movex,"px)")}},{key:"position",value:function(){return{left:this.el.getBoundingClientRect().left,right:this.el.getBoundingClientRect().right,top:n.QM.screenHeight-this.el.getBoundingClientRect().top,bottom:n.QM.screenHeight-this.el.getBoundingClientRect().top-this.el.getBoundingClientRect().height}}},{key:"size",value:function(){return{width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"updateHp",value:function(e){this.hpValue=Math.max(0,this.hpValue-e),this.hpProgress=this.hpValue/this.defaultHpValue*100,document.querySelector(".state_box .hp span").style.width=this.hpProgress+"%",this.crash(),0===this.hpValue&&this.dead()}},{key:"crash",value:function(){var e=this;this.el.classList.add("crash"),setTimeout((function(){return e.el.classList.remove("crash")}),400)}},{key:"dead",value:function(){n.ZK.el.classList.add("dead"),(0,n.Iz)()}},{key:"hitDamage",value:function(){this.realDamage=this.attackDamage-Math.round(Math.random()*this.attackDamage*.1)}}])}(),d=function(){return h((function e(){a(this,e),this.parentNode=document.querySelector(".game"),this.el=document.createElement("div"),this.el.className="hero_bullet",this.x=0,this.y=0,this.speed=30,this.distance=0,this.bulletDirection="right",this.init()}),[{key:"init",value:function(){this.bulletDirection="left"===n.ZK.direction?"left":"right",this.x="right"===this.bulletDirection?n.ZK.movex+n.ZK.size().width/2:n.ZK.movex-n.ZK.size().width/2,this.y=n.ZK.position().bottom-n.ZK.size().height/2,this.distance=this.x,this.el.style.transform="translate(".concat(this.x,"px, ").concat(this.y,"px)"),this.parentNode.appendChild(this.el)}},{key:"moveBullet",value:function(){var e="";"left"===this.bulletDirection?(this.distance-=this.speed,e="rotate(180deg)"):this.distance+=this.speed,this.el.style.transform="translate(".concat(this.distance,"px, ").concat(this.y,"px) ").concat(e),this.crashBullet()}},{key:"position",value:function(){return{left:this.el.getBoundingClientRect().left,right:this.el.getBoundingClientRect().right,top:n.QM.screenHeight-this.el.getBoundingClientRect().top,bottom:n.QM.screenHeight-this.el.getBoundingClientRect().top-this.el.getBoundingClientRect().height}}},{key:"crashBullet",value:function(){for(var e=0;e<n.OR.arr.length;e++)if(this.position().left>n.OR.arr[e].position().left&&this.position().right<n.OR.arr[e].position().right)for(var t=0;t<n.R1.arr.length;t++)n.R1.arr[t]===this&&(n.ZK.hitDamage(),n.R1.arr.splice(t,1),this.el.remove(),this.damageView(n.OR.arr[e]),n.OR.arr[e].updateHp(e));if(this.position().left>n.QM.screenWidth||this.position().right<0)for(var i=0;i<n.R1.arr.length;i++)n.R1.arr[i]===this&&(n.R1.arr.splice(i,1),this.el.remove())}},{key:"damageView",value:function(e){var t=this;this.parentNode=document.querySelector(".game_app"),this.textDamageNode=document.createElement("div"),this.textDamageNode.className="text_damage",this.textDamage=document.createTextNode(n.ZK.realDamage),this.textDamageNode.appendChild(this.textDamage),this.parentNode.appendChild(this.textDamageNode);var i=-100*Math.random(),s=e.position().left+i,o=e.position().top;this.textDamageNode.style.transform="translate(".concat(s,"px, ").concat(-o,"px)"),setTimeout((function(){return t.textDamageNode.remove()}),500)}}])}(),p=function(){return h((function e(t,i){a(this,e),this.parentNode=document.querySelector(".game"),this.el=document.createElement("div"),this.el.className="monster_box ".concat(t.name),this.elChildren=document.createElement("div"),this.elChildren.className="monster",this.hpNode=document.createElement("div"),this.hpNode.className="hp",this.hpValue=t.hpValue,this.defaultHpValue=t.hpValue,this.hpInner=document.createElement("span"),this.progress=0,this.positionX=i,this.moveX=0,this.speed=t.speed,this.crashDamage=t.crashDamage,this.init()}),[{key:"init",value:function(){this.hpNode.appendChild(this.hpInner),this.el.appendChild(this.hpNode),this.el.appendChild(this.elChildren),this.parentNode.appendChild(this.el),this.el.style.left=this.positionX+"px"}},{key:"position",value:function(){return{left:this.el.getBoundingClientRect().left,right:this.el.getBoundingClientRect().right,top:n.QM.screenHeight-this.el.getBoundingClientRect().top,bottom:n.QM.screenHeight-this.el.getBoundingClientRect().top-this.el.getBoundingClientRect().height}}},{key:"updateHp",value:function(e){this.hpValue=Math.max(0,this.hpValue-n.ZK.realDamage),this.progress=this.hpValue/this.defaultHpValue*100,this.el.children[0].children[0].style.width=this.progress+"%",0===this.hpValue&&this.dead(e)}},{key:"dead",value:function(e){var t=this;this.el.classList.add("remove"),n.OR.arr.splice(e,1),setTimeout((function(){return t.el.remove()}),200)}},{key:"moveMonster",value:function(){this.moveX+this.positionX+this.el.offsetWidth+n.ZK.position().left-n.ZK.movex<=0?this.moveX=n.ZK.movex-this.positionX+n.QM.screenWidth-n.ZK.position().left:this.moveX-=this.speed,this.el.style.transform="translateX(".concat(this.moveX,"px)"),this.crash()}},{key:"crash",value:function(){n.ZK.position().right-30>this.position().left&&n.ZK.position().left+90<this.position().right&&n.ZK.updateHp(this.crashDamage)}}])}()},718:(e,t,i)=>{i.d(t,{Eb:()=>o,Iz:()=>d,OR:()=>a,QM:()=>c,R1:()=>r,ZK:()=>n});var n,s=i(554),o=(i(724),{keyDown:{},keyValue:{37:"left",39:"right",88:"attack"}}),a={arr:[]},r={launch:!1,arr:[]},h={gameBox:document.querySelector(".game")},l={stage:[]},c={screenWidth:window.innerWidth,screenHeight:window.innerHeight,gameOver:!1},u=function(){n.keyMotion(),p(),r.arr.forEach((function(e,t){e.moveBullet()})),a.arr.forEach((function(e,t){e.moveMonster()})),window.requestAnimationFrame(u)},d=function(){c.gameOver=!0,o.keyDown.left=!1,o.keyDown.right=!1,document.querySelector(".game_over").classList.add("active")},p=function(){var e=Math.min(0,-1*(n.movex-c.screenWidth/3));h.gameBox.style.transform="translateX(".concat(e,"px)")},m=function(){n=new s.lq(".hero"),l.stage=new s.BI,["./images/ninja_attack.png","./images/ninja_run.png"].forEach((function(e){(new Image).src=e})),window.addEventListener("keydown",(function(e){c.gameOver||(o.keyDown[o.keyValue[e.which]]=!0)})),window.addEventListener("keyup",(function(e){o.keyDown[o.keyValue[e.which]]=!1})),window.addEventListener("resize",(function(e){c.screenWidth=window.innerWidth,c.screenHeight=window.innerHeight})),u()};window.onload=function(){m()}},724:(e,t,i)=>{i.d(t,{M2:()=>n,rc:()=>s});var n={name:"green_mon",hpValue:44e3,speed:10,crashDamage:300},s={name:"green_mon_boss",hpValue:8e5,speed:10,crashDamage:1e3}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);i(718)})();